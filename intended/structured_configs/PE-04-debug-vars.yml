ansible_connection: httpapi
ansible_network_os: eos
ansible_user: admin
ansible_ssh_pass: admin
ansible_become: true
ansible_become_method: enable
ansible_httpapi_use_ssl: true
ansible_httpapi_validate_certs: false
validation_mode_loose: true
port_profiles:
  TENANT_A_WAN_SERVICE_10:
    mode: access
    vlans: 10
    spanning_tree_portfast: edge
cpes:
  speed_config:
    adapters:
    - endpoint_ports:
      - 10g
      switch_ports:
      - Ethernet5/1
      switches:
      - PE-01
      speed: forced 10000full
    - endpoint_ports:
      - 10g
      switch_ports:
      - Ethernet5/1
      switches:
      - PE-04
      speed: forced 10000full
    - endpoint_ports:
      - 10g
      switch_ports:
      - Ethernet52/1
      switches:
      - PE-02
      speed: forced 10000full
backbone_interfaces:
  p2p_links_ip_pools:
    underlay_pool: 100.64.48.0/24
  p2p_links_profiles:
    default_bb_profile:
      speed: forced 40gfull
      mtu: 9000
      isis_hello_padding: true
      isis_metric: 10
      ip_pool: underlay_pool
      isis_circuit_type: level-1-2
      ipv6_enable: true
  p2p_links:
  - nodes:
    - P-01
    - P-02
    id: 1
    interfaces:
    - Ethernet25/1
    - Ethernet25/1
    profile: default_bb_profile
  - nodes:
    - P-01
    - PE-01
    id: 2
    interfaces:
    - Ethernet1/1
    - Ethernet1/1
    profile: default_bb_profile
  - nodes:
    - P-01
    - PE-02
    id: 3
    interfaces:
    - Ethernet2/1
    - Ethernet50/1
    profile: default_bb_profile
  - nodes:
    - P-01
    - PE-03
    id: 4
    speed: forced 100gfull
    interfaces:
    - Ethernet26/1
    - Ethernet55/1
    profile: default_bb_profile
  - nodes:
    - P-02
    - PE-02
    id: 5
    interfaces:
    - Ethernet26/1
    - Ethernet55/1
    profile: default_bb_profile
  - nodes:
    - P-02
    - PE-03
    id: 6
    interfaces:
    - Ethernet4/1
    - Ethernet50/1
    profile: default_bb_profile
  - nodes:
    - P-02
    - PE-04
    id: 7
    interfaces:
    - Ethernet1/1
    - Ethernet1/1
    profile: default_bb_profile
  - nodes:
    - P-02
    - PE-04
    id: 8
    interfaces:
    - Ethernet2/1
    - Ethernet2/1
    profile: default_bb_profile
  - nodes:
    - PE-01
    - PE-02
    id: 9
    interfaces:
    - Ethernet2/1
    - Ethernet49/1
    profile: default_bb_profile
fabric_name: MPLS_FABRIC
overlay_rd_type:
  admin_subfield: overlay_loopback
overlay_rt_type:
  admin_subfield: 65000
bgp_maximum_paths: 4
bgp_ecmp: 4
overlay_prevent_readvertise_to_server: true
underlay_routing_protocol: isis
isis_advertise_passive_only: true
isis_hello_padding: false
isis_ti_lfa:
  enabled: true
  protection: link
  local_convergence_delay: 15000
isis_default_is_type: level-1-2
isis_default_circuit_type: level-1-2
isis_default_metric: 50
label_distribution:
  protocol: isis-sr
overlay_routing_protocol: ibgp
bgp_as: 65000
bgp_peer_groups:
  MPLS_OVERLAY_PEERS:
    password: $1c$U4tL2vQP9QwZlxIV1K3/pw==
p2p_uplinks_mtu: 9000
local_users:
  admin:
    privilege: 15
    role: network-admin
    sha512_password: $6$YCJxvEgvNNgeS/Za$42NHyES9xkPUOiODx29DudRdqRqXnCmFV3kCaF0blakZJq60q/KcXhH3t7VeSm0DSpkqeF2RCALD0/c81jQhl1
  cvpadmin:
    privilege: 15
    role: network-admin
    sha512_password: $6$0vli3tFaghW2wEQn$To2mxaQwn/VBm/8t/L2XjaXDEP0ZOXmbvHv2OoMwxDF.qPdSpJHz7GbuEOnnh1FqU8cxrbFSZHxgUqmKAuxEe/
  dcidemo:
    privilege: 15
    role: dcidemo
    sha512_password: $6$IQnDVIimX9VLbjhz$1JzwFWiZfiVmYk5wutOyslz/NJ2vf9xd2iXtnXlxP9utJgbHvDzMScEQSsMvVpRXLEKLJF9IiwYrkyOuZ43G71
mgmt_gateway: 10.92.61.65
mgmt_interface_vrf: mgmt
name_servers:
- 172.22.22.10
- 172.22.22.40
dns_domain: sjc.aristanetworks.com
ntp_servers:
- 172.22.22.50
connected_endpoints_keys:
  routers:
    type: router
  cpes:
    type: cpe
aliases: 'alias agents bash ls -lrt /var/log/agents/

  alias c bash clear

  alias core bash ls -lrt /var/core/

  alias d show interfaces description | grep -v ''not\|down''

  alias log bash sudo tail -f /var/log/messages | grep -v -i xcvr

  alias m show run section monitor

  alias qt bash ls -lrt /var/log/qt/

  alias senz show interface counter error | nz

  alias shmc show int | awk ''/^[A-Z]/ { intf = \$1 } /, address is/ { print intf, \$6 }''

  alias snz show interface counter | nz

  alias spd show port-channel %1 detail all

  alias sqnz show interface counter queue | nz

  alias srnz show interface counter rate | nz

  alias top show proc top'
platform_settings:
- platforms:
  - 7280QR-C36-M
  tcam_profile: mpls-evpn
- platforms:
  - 7280SR3K-48YC8
  tcam_profile: vxlan-routing
- platforms:
  - 7280CR3K-32D4
  tcam_profile: vxlan-routing
platform_speed_groups:
  7280CR3K-32D4:
    10g:
    - 1
    - 2
    - 3
    - 4
    - 5
tenants:
  TENANT_A:
    l1_services:
    - name: TEN_A_site1_site2_eline
      type: vpws-pseudowire
      ids:
      - 52
      - 513
      nodes:
      - PE-01
      - PE-03
      interfaces:
      - Ethernet5/2
      - Ethernet51/3
    mac_vrf_rt_base: 10000
    pw_rt_base: 1000
    vrfs:
      TENANT_A_WAN:
        address_families:
        - evpn
        l3_interfaces:
        - description: L3vpn service, vlan 100
          interfaces:
          - Ethernet52/2.100
          encapsulation_dot1q_vlan:
          - 100
          enabled: true
          mtu: 9000
          ip_addresses:
          - 10.10.100.2/24
          nodes:
          - PE-02
        - description: L3vpn service, vlan 100
          interfaces:
          - Ethernet5/3.200
          encapsulation_dot1q_vlan:
          - 200
          enabled: true
          mtu: 9000
          ip_addresses:
          - 10.10.200.2/24
          nodes:
          - PE-04
        vrf_rt: 10
    l2vlans:
      10:
        name: TENANT_A_L2_SERVICE
        tags:
        - site1
        - site2
type: pe
pe:
  defaults:
    virtual_router_mac_address: 00:1c:73:00:dc:00
    loopback_ipv4_pool: 100.70.0.0/24
    loopback_ipv6_pool: 2000:1234:ffff:ffff::/64
    is_type: level-1-2
    node_sid_base: 200
    isis_system_id_prefix: '0000.0001'
    backbone_interface_speed: forced 100gfull
    spanning_tree_priority: 4096
    spanning_tree_mode: mstp
    bgp_defaults:
    - no bgp default ipv4-unicast
    - distance bgp 20 200 200
    - graceful-restart restart-time 300
    - graceful-restart
    mpls_route_reflectors:
    - P-01
    - P-02
    raw_eos_cli: "management security\n   password encryption-key common\n"
  node_groups:
    SITE_1:
      filter:
        tenants:
        - TENANT_A
        - TENANT_B
        tags:
        - site1
      nodes:
        PE-01:
          id: 1
          platform: 7280CR3K-32D4
          mgmt_ip: 10.92.61.97/26
        PE-02:
          id: 2
          platform: 7280SR3K-48YC8
          mgmt_ip: 10.92.61.163/26
    SITE_2:
      filter:
        tenants:
        - TENANT_A
        - TENANT_B
        tags:
        - site2
      nodes:
        PE-03:
          id: 3
          platform: 7280SR3K-48YC8
          mgmt_ip: 10.92.61.165/26
        PE-04:
          id: 4
          platform: 7280CR3K-32D4
          mgmt_ip: 10.92.61.98/26
inventory_file: /projects/ansible/development/AVD_MPLS_TESTING/inventory.yml
inventory_dir: /projects/ansible/development/AVD_MPLS_TESTING
ansible_host: 10.92.61.98
inventory_hostname: PE-04
inventory_hostname_short: PE-04
group_names:
- EOS
- MPLS_ENDPOINT_CONNECTIONS
- MPLS_FABRIC
- PE_ROUTERS
- VPN_SERVICES
ansible_facts:
  switch:
    type: pe
    node_type_key: pe
    connected_endpoints: true
    default_evpn_role: client
    mlag_support: false
    network_services_l1: true
    network_services_l2: true
    network_services_l3: true
    underlay_router: true
    uplink_type: p2p
    vtep: true
    ip_addressing:
      router_id: ip_addressing/router-id.j2
      p2p_uplinks_ip: ip_addressing/p2p-uplinks-ip.j2
      ipv6_router_id: ip_addressing/router-id-ipv6.j2
    interface_descriptions:
      underlay_ethernet_interfaces: interface_descriptions/underlay/ethernet-interfaces.j2
      underlay_port_channel_interfaces: interface_descriptions/underlay/port-channel-interfaces.j2
      connected_endpoints_ethernet_interfaces: interface_descriptions/connected_endpoints/ethernet-interfaces.j2
      connected_endpoints_port_channel_interfaces: interface_descriptions/connected_endpoints/port-channel-interfaces.j2
      overlay_loopback_interface: interface_descriptions/loopback_interfaces/overlay-loopback.j2
      vtep_loopback_interface: interface_descriptions/loopback_interfaces/vtep-loopback.j2
    group: SITE_2
    id: 4
    mgmt_ip: 10.92.61.98/26
    platform: 7280CR3K-32D4
    platform_settings:
      platforms:
      - 7280CR3K-32D4
      tcam_profile: vxlan-routing
    underlay_routing_protocol: isis
    overlay_routing_protocol: ibgp
    filter_tenants:
    - TENANT_A
    - TENANT_B
    filter_tags:
    - site2
    spanning_tree_mode: mstp
    spanning_tree_priority: 4096
    igmp_snooping_enabled: true
    virtual_router_mac_address: 00:1c:73:00:dc:00
    max_uplink_switches: 0
    max_parallel_uplinks: 1
    raw_eos_cli: "management security\n   password encryption-key common\n"
    loopback_ipv4_pool: 100.70.0.0/24
    loopback_ipv4_offset: 0
    router_id: 100.70.0.4
    loopback_ipv6_pool: 100.70.0.0/24
    loopback_ipv6_offset: 0
    ipv6_router_id: 2000:1234:ffff:ffff::4
    evpn_role: client
    bgp_as: '65000'
    bgp_defaults:
    - no bgp default ipv4-unicast
    - distance bgp 20 200 200
    - graceful-restart restart-time 300
    - graceful-restart
    mpls_route_reflectors:
    - P-01
    - P-02
    isis_net: 49.0001.0000.0001.0004.00
    is_type: level-1-2
    node_sid: 204
    mlag: false
    evpn_services_l2_only: false
    tenants:
      TENANT_A:
        vrfs:
          TENANT_A_WAN: {}
        l2vlans:
        - 10
    vlans:
    - 10
  topology:
    peers: []
    vlans:
    - 10
switch:
  type: pe
  node_type_key: pe
  connected_endpoints: true
  default_evpn_role: client
  mlag_support: false
  network_services_l1: true
  network_services_l2: true
  network_services_l3: true
  underlay_router: true
  uplink_type: p2p
  vtep: true
  ip_addressing:
    router_id: ip_addressing/router-id.j2
    p2p_uplinks_ip: ip_addressing/p2p-uplinks-ip.j2
    ipv6_router_id: ip_addressing/router-id-ipv6.j2
  interface_descriptions:
    underlay_ethernet_interfaces: interface_descriptions/underlay/ethernet-interfaces.j2
    underlay_port_channel_interfaces: interface_descriptions/underlay/port-channel-interfaces.j2
    connected_endpoints_ethernet_interfaces: interface_descriptions/connected_endpoints/ethernet-interfaces.j2
    connected_endpoints_port_channel_interfaces: interface_descriptions/connected_endpoints/port-channel-interfaces.j2
    overlay_loopback_interface: interface_descriptions/loopback_interfaces/overlay-loopback.j2
    vtep_loopback_interface: interface_descriptions/loopback_interfaces/vtep-loopback.j2
  group: SITE_2
  id: 4
  mgmt_ip: 10.92.61.98/26
  platform: 7280CR3K-32D4
  platform_settings:
    platforms:
    - 7280CR3K-32D4
    tcam_profile: vxlan-routing
  underlay_routing_protocol: isis
  overlay_routing_protocol: ibgp
  filter_tenants:
  - TENANT_A
  - TENANT_B
  filter_tags:
  - site2
  spanning_tree_mode: mstp
  spanning_tree_priority: 4096
  igmp_snooping_enabled: true
  virtual_router_mac_address: 00:1c:73:00:dc:00
  max_uplink_switches: 0
  max_parallel_uplinks: 1
  raw_eos_cli: "management security\n   password encryption-key common\n"
  loopback_ipv4_pool: 100.70.0.0/24
  loopback_ipv4_offset: 0
  router_id: 100.70.0.4
  loopback_ipv6_pool: 100.70.0.0/24
  loopback_ipv6_offset: 0
  ipv6_router_id: 2000:1234:ffff:ffff::4
  evpn_role: client
  bgp_as: '65000'
  bgp_defaults:
  - no bgp default ipv4-unicast
  - distance bgp 20 200 200
  - graceful-restart restart-time 300
  - graceful-restart
  mpls_route_reflectors:
  - P-01
  - P-02
  isis_net: 49.0001.0000.0001.0004.00
  is_type: level-1-2
  node_sid: 204
  mlag: false
  evpn_services_l2_only: false
  tenants:
    TENANT_A:
      vrfs:
        TENANT_A_WAN: {}
      l2vlans:
      - 10
  vlans:
  - 10
topology:
  peers: []
  vlans:
  - 10
playbook_dir: /projects/ansible/development/AVD_MPLS_TESTING
ansible_playbook_python: /usr/local/bin/python
ansible_config_file: /projects/ansible/development/AVD_MPLS_TESTING/ansible.cfg
groups:
  all:
  - cv_server
  - CPE-01
  - CPE-02
  - PE-01
  - PE-02
  - PE-03
  - PE-04
  - P-01
  - P-02
  ungrouped: []
  CVP:
  - cv_server
  MPLS_FABRIC:
  - PE-01
  - PE-02
  - PE-03
  - PE-04
  - P-01
  - P-02
  PE_ROUTERS:
  - PE-01
  - PE-02
  - PE-03
  - PE-04
  RR_ROUTERS:
  - P-01
  - P-02
  CPE_ROUTERS:
  - CPE-01
  - CPE-02
  VPN_SERVICES:
  - PE-01
  - PE-02
  - PE-03
  - PE-04
  MPLS_ENDPOINT_CONNECTIONS:
  - PE-01
  - PE-02
  - PE-03
  - PE-04
  EOS:
  - PE-01
  - PE-02
  - PE-03
  - PE-04
  - P-01
  - P-02
  - CPE-01
  - CPE-02
omit: __omit_place_holder__63dcb6304e8069580574ddae266b3176de33fc6f
ansible_version:
  string: 2.10.12
  full: 2.10.12
  major: 2
  minor: 10
  revision: 12
ansible_check_mode: false
ansible_diff_mode: false
ansible_forks: 16
ansible_inventory_sources:
- /projects/ansible/development/AVD_MPLS_TESTING/inventory.yml
ansible_skip_tags: []
ansible_run_tags:
- debug
- build
ansible_verbosity: 0
