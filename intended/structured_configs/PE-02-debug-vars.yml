ansible_connection: httpapi
ansible_network_os: eos
ansible_user: admin
ansible_ssh_pass: admin
ansible_become: true
ansible_become_method: enable
ansible_httpapi_use_ssl: true
ansible_httpapi_validate_certs: false
validation_mode_loose: true
port_profiles:
  TENANT_A_WAN_SERVICE_10:
    mode: access
    vlans: 10
    spanning_tree_portfast: edge
cpes:
  CPE-1:
    adapters:
    - profile: TENANT_A_WAN_SERVICE_10
      endpoint_ports:
      - Ethernet1
      - Ethernet2
      switch_ports:
      - Ethernet5/2
      - Ethernet52/2
      switches:
      - PE-03
      - PE-04
  CPE-2:
    adapters:
    - profile: TENANT_A_WAN_SERVICE_10
      endpoint_ports:
      - Ethernet33
      - Ethernet34
      switch_ports:
      - Ethernet51/3
      - Ethernet5/3
      switches:
      - PE-03
      - PE-04
backbone_interfaces:
  p2p_links_ip_pools:
    underlay_pool: 100.64.48.0/24
  p2p_links_profiles:
    default_bb_profile:
      speed: 100full
      mtu: 1500
      isis_hello_padding: false
      isis_metric: 60
      ip_pool: underlay_pool
      isis_circuit_type: level-2
      ipv6_enable: true
  p2p_links:
  - nodes:
    - P-01
    - P-02
    id: 1
    interfaces:
    - Ethernet25/1
    - Ethernet25/1
    profile: default_bb_profile
  - nodes:
    - P-01
    - PE-01
    id: 2
    interfaces:
    - Ethernet1/1
    - Ethernet1/1
    profile: default_bb_profile
  - nodes:
    - P-01
    - PE-02
    id: 3
    interfaces:
    - Ethernet2/1
    - Ethernet50/1
    profile: default_bb_profile
  - nodes:
    - P-01
    - PE-03
    id: 4
    interfaces:
    - Ethernet26/1
    - Ethernet55/1
    profile: default_bb_profile
  - nodes:
    - P-02
    - PE-02
    id: 5
    interfaces:
    - Ethernet26/1
    - Ethernet55/1
    profile: default_bb_profile
  - nodes:
    - P-02
    - PE-03
    id: 6
    interfaces:
    - Ethernet4/1
    - Ethernet50/1
    profile: default_bb_profile
  - nodes:
    - P-02
    - PE-04
    id: 7
    interfaces:
    - Ethernet1/1
    - Ethernet1/1
    profile: default_bb_profile
  - nodes:
    - P-02
    - PE-04
    id: 7
    interfaces:
    - Ethernet2/1
    - Ethernet2/1
    profile: default_bb_profile
  - nodes:
    - PE-01
    - PE-02
    id: 8
    interfaces:
    - Ethernet2/1
    - Ethernet49/1
    profile: default_bb_profile
fabric_name: MPLS_FABRIC
overlay_rd_type:
  admin_subfield: overlay_loopback
overlay_rt_type:
  admin_subfield: 65000
bgp_maximum_paths: 4
bgp_ecmp: 4
overlay_prevent_readvertise_to_server: true
underlay_routing_protocol: isis
isis_advertise_passive_only: true
isis_hello_padding: false
isis_ti_lfa:
  enabled: true
  protection: link
  local_convergence_delay: 15000
isis_default_is_type: level-1-2
isis_default_circuit_type: level-1-2
isis_default_metric: 50
label_distribution:
  protocol: isis-sr
overlay_routing_protocol: ibgp
bgp_as: 65000
bgp_peer_groups:
  MPLS_OVERLAY_PEERS:
    password: $1c$U4tL2vQP9QwZlxIV1K3/pw==
p2p_uplinks_mtu: 9000
local_users:
  admin:
    privilege: 15
    role: network-admin
    sha512_password: $6$YCJxvEgvNNgeS/Za$42NHyES9xkPUOiODx29DudRdqRqXnCmFV3kCaF0blakZJq60q/KcXhH3t7VeSm0DSpkqeF2RCALD0/c81jQhl1
  cvpadmin:
    privilege: 15
    role: network-admin
    sha512_password: $6$F9XqxW52QkmBqIpi$dBN8olH2I8VlnIciAmVZgJP5FcR7Vr1tm/8qK7NxNhGDf6SdMGV.QSshVPTxcIctWlWu47LaauKQuNZBSh3fX.
  dcidemo:
    privilege: 15
    role: dcidemo
    sha512_password: $6$IQnDVIimX9VLbjhz$1JzwFWiZfiVmYk5wutOyslz/NJ2vf9xd2iXtnXlxP9utJgbHvDzMScEQSsMvVpRXLEKLJF9IiwYrkyOuZ43G71
mgmt_gateway: 10.92.61.129
mgmt_interface_vrf: mgmt
name_servers:
- 172.22.22.10
- 172.22.22.40
dns_domain: sjc.aristanetworks.com
ntp_servers:
- 172.22.22.50
internal_vlan_order:
  allocation: ascending
  range:
    beginning: 3700
    ending: 3900
connected_endpoints_keys:
  routers:
    type: router
  cpes:
    type: cpe
aliases: 'alias agents bash ls -lrt /var/log/agents/

  alias c bash clear

  alias core bash ls -lrt /var/core/

  alias d show interfaces description | grep -v ''not\|down''

  alias log bash sudo tail -f /var/log/messages | grep -v -i xcvr

  alias m show run section monitor

  alias qt bash ls -lrt /var/log/qt/

  alias senz show interface counter error | nz

  alias shmc show int | awk ''/^[A-Z]/ { intf = \$1 } /, address is/ { print intf, \$6 }''

  alias snz show interface counter | nz

  alias spd show port-channel %1 detail all

  alias sqnz show interface counter queue | nz

  alias srnz show interface counter rate | nz

  alias top show proc top'
tenants:
  TENANT_A:
    l1_services:
    - name: TEN_A_site2_site5_eline
      type: vpws-pseudowire
      ids:
      - 25
      - 57
      nodes:
      - pe2
      - pe5
      interfaces:
      - Ethernet7
      - Ethernet7
    l2vlans:
      10:
        name: TENANT_A_L2_SERVICE
        tags:
        - site1-2
        - site5
    mac_vrf_rt_base: 10000
    pw_rt_base: 1000
    vrfs:
      TENANT_A_WAN:
        address_families:
        - evpn
        svis: {}
        vrf_rt: 10
  TENANT_B:
    l2vlans: {}
    mac_vrf_rt_base: 20000
    vrfs:
      TENANT_B_WAN:
        ospf:
          enabled: true
          process_id: 99
          router_id: 1.2.3.4
          address_families:
          - ipv4
          bfd: true
          max_lsa: 10000
          nodes:
          - pe3
        address_families:
        - vpn-ipv4
        l3_interfaces:
        - description: TENANT_B_SITE_3
          enabled: true
          interfaces:
          - Ethernet5
          ip_addresses:
          - 192.168.48.0/31
          nodes:
          - pe3
        - description: TENANT_B_SITE_3_OSPF
          enabled: true
          ospf:
            enabled: true
            p2p: true
            area: 0
            cost: 10
          interfaces:
          - Ethernet6
          ip_addresses:
          - 192.168.48.4/31
          nodes:
          - pe3
        - description: TENANT_B_SITE_5
          enabled: true
          interfaces:
          - Ethernet6
          ip_addresses:
          - 192.168.48.2/31
          nodes:
          - pe5
        bgp_peers:
          192.168.48.1:
            description: TENANT_B_CPE_SITE3
            nodes:
            - pe3
            password: $1c$U4tL2vQP9QwZlxIV1K3/pw==
            remote_as: '65201'
          192.168.48.3:
            description: TENANT_B_CPE_SITE5
            nodes:
            - pe5
            password: $1c$U4tL2vQP9QwZlxIV1K3/pw==
            remote_as: '65202'
        vrf_rt: 20
type: pe
pe:
  defaults:
    virtual_router_mac_address: 00:1c:73:00:dc:00
    platform: vEOS-LAB
    loopback_ipv4_pool: 100.70.0.0/24
    loopback_ipv6_pool: 2000:1234:ffff:ffff::/64
    is_type: level-1-2
    node_sid_base: 200
    isis_system_id_prefix: '0000.0001'
    backbone_interface_speed: forced 100gfull
    spanning_tree_priority: 4096
    spanning_tree_mode: mstp
    bgp_defaults:
    - no bgp default ipv4-unicast
    - distance bgp 20 200 200
    - graceful-restart restart-time 300
    - graceful-restart
    mpls_route_reflectors:
    - P-01
    - P-02
    raw_eos_cli: "management security\n   password encryption-key common\n"
  node_groups:
    SITE_1:
      filter:
        tenants:
        - TENANT_A
        - TENANT_B
        tags:
        - site1
      nodes:
        PE-01:
          id: 1
          mgmt_ip: 10.30.30.101/24
        PE-02:
          id: 2
          mgmt_ip: 10.30.30.102/24
    SITE_2:
      filter:
        tenants:
        - TENANT_A
        - TENANT_B
        tags:
        - site2
      nodes:
        PE-03:
          id: 3
          mgmt_ip: 10.30.30.103/24
        PE-04:
          id: 4
          mgmt_ip: 10.30.30.105/24
inventory_file: /home/carlbuchmann/Git_Projects/SP-AVD/avd-mpls-example/inventory.yml
inventory_dir: /home/carlbuchmann/Git_Projects/SP-AVD/avd-mpls-example
ansible_host: 10.92.61.163
inventory_hostname: PE-02
inventory_hostname_short: PE-02
group_names:
- EOS
- MPLS_ENDPOINT_CONNECTIONS
- MPLS_FABRIC
- PE_ROUTERS
- VPN_SERVICES
ansible_facts:
  switch:
    type: pe
    node_type_key: pe
    connected_endpoints: true
    default_evpn_role: client
    mlag_support: false
    network_services_l1: true
    network_services_l2: true
    network_services_l3: true
    underlay_router: true
    uplink_type: p2p
    vtep: true
    ip_addressing:
      router_id: ip_addressing/router-id.j2
      p2p_uplinks_ip: ip_addressing/p2p-uplinks-ip.j2
      ipv6_router_id: ip_addressing/router-id-ipv6.j2
    interface_descriptions:
      underlay_ethernet_interfaces: interface_descriptions/underlay/ethernet-interfaces.j2
      underlay_port_channel_interfaces: interface_descriptions/underlay/port-channel-interfaces.j2
      connected_endpoints_ethernet_interfaces: interface_descriptions/connected_endpoints/ethernet-interfaces.j2
      connected_endpoints_port_channel_interfaces: interface_descriptions/connected_endpoints/port-channel-interfaces.j2
      overlay_loopback_interface: interface_descriptions/loopback_interfaces/overlay-loopback.j2
      vtep_loopback_interface: interface_descriptions/loopback_interfaces/vtep-loopback.j2
    group: SITE_1
    id: 2
    mgmt_ip: 10.30.30.102/24
    platform: vEOS-LAB
    platform_settings:
      platforms:
      - default
      reload_delay:
        mlag: 300
        non_mlag: 330
      feature_support:
        queue_monitor_length_notify: false
    underlay_routing_protocol: isis
    overlay_routing_protocol: ibgp
    filter_tenants:
    - TENANT_A
    - TENANT_B
    filter_tags:
    - site1
    spanning_tree_mode: mstp
    spanning_tree_priority: 4096
    igmp_snooping_enabled: true
    virtual_router_mac_address: 00:1c:73:00:dc:00
    max_uplink_switches: 0
    max_parallel_uplinks: 1
    raw_eos_cli: "management security\n   password encryption-key common\n"
    loopback_ipv4_pool: 100.70.0.0/24
    loopback_ipv4_offset: 0
    router_id: 100.70.0.2
    loopback_ipv6_pool: 100.70.0.0/24
    loopback_ipv6_offset: 0
    ipv6_router_id: 2000:1234:ffff:ffff::2
    evpn_role: client
    bgp_as: '65000'
    bgp_defaults:
    - no bgp default ipv4-unicast
    - distance bgp 20 200 200
    - graceful-restart restart-time 300
    - graceful-restart
    mpls_route_reflectors:
    - P-01
    - P-02
    isis_net: 49.0001.0000.0001.0002.00
    is_type: level-1-2
    node_sid: 202
    mlag: false
    evpn_services_l2_only: false
    tenants: {}
    vlans: []
  topology:
    peers: []
    vlans: []
switch:
  type: pe
  node_type_key: pe
  connected_endpoints: true
  default_evpn_role: client
  mlag_support: false
  network_services_l1: true
  network_services_l2: true
  network_services_l3: true
  underlay_router: true
  uplink_type: p2p
  vtep: true
  ip_addressing:
    router_id: ip_addressing/router-id.j2
    p2p_uplinks_ip: ip_addressing/p2p-uplinks-ip.j2
    ipv6_router_id: ip_addressing/router-id-ipv6.j2
  interface_descriptions:
    underlay_ethernet_interfaces: interface_descriptions/underlay/ethernet-interfaces.j2
    underlay_port_channel_interfaces: interface_descriptions/underlay/port-channel-interfaces.j2
    connected_endpoints_ethernet_interfaces: interface_descriptions/connected_endpoints/ethernet-interfaces.j2
    connected_endpoints_port_channel_interfaces: interface_descriptions/connected_endpoints/port-channel-interfaces.j2
    overlay_loopback_interface: interface_descriptions/loopback_interfaces/overlay-loopback.j2
    vtep_loopback_interface: interface_descriptions/loopback_interfaces/vtep-loopback.j2
  group: SITE_1
  id: 2
  mgmt_ip: 10.30.30.102/24
  platform: vEOS-LAB
  platform_settings:
    platforms:
    - default
    reload_delay:
      mlag: 300
      non_mlag: 330
    feature_support:
      queue_monitor_length_notify: false
  underlay_routing_protocol: isis
  overlay_routing_protocol: ibgp
  filter_tenants:
  - TENANT_A
  - TENANT_B
  filter_tags:
  - site1
  spanning_tree_mode: mstp
  spanning_tree_priority: 4096
  igmp_snooping_enabled: true
  virtual_router_mac_address: 00:1c:73:00:dc:00
  max_uplink_switches: 0
  max_parallel_uplinks: 1
  raw_eos_cli: "management security\n   password encryption-key common\n"
  loopback_ipv4_pool: 100.70.0.0/24
  loopback_ipv4_offset: 0
  router_id: 100.70.0.2
  loopback_ipv6_pool: 100.70.0.0/24
  loopback_ipv6_offset: 0
  ipv6_router_id: 2000:1234:ffff:ffff::2
  evpn_role: client
  bgp_as: '65000'
  bgp_defaults:
  - no bgp default ipv4-unicast
  - distance bgp 20 200 200
  - graceful-restart restart-time 300
  - graceful-restart
  mpls_route_reflectors:
  - P-01
  - P-02
  isis_net: 49.0001.0000.0001.0002.00
  is_type: level-1-2
  node_sid: 202
  mlag: false
  evpn_services_l2_only: false
  tenants: {}
  vlans: []
topology:
  peers: []
  vlans: []
playbook_dir: /home/carlbuchmann/Git_Projects/SP-AVD/avd-mpls-example
ansible_playbook_python: /home/carlbuchmann/.venv/bin/python
ansible_config_file: /home/carlbuchmann/Git_Projects/SP-AVD/avd-mpls-example/ansible.cfg
groups:
  all:
  - cv_server
  - CPE-01
  - CPE-02
  - PE-01
  - PE-02
  - PE-03
  - PE-04
  - P-01
  - P-02
  ungrouped: []
  CVP:
  - cv_server
  MPLS_FABRIC:
  - PE-01
  - PE-02
  - PE-03
  - PE-04
  - P-01
  - P-02
  PE_ROUTERS:
  - PE-01
  - PE-02
  - PE-03
  - PE-04
  P_ROUTERS:
  - P-01
  - P-02
  CPE_ROUTERS:
  - CPE-01
  - CPE-02
  VPN_SERVICES:
  - PE-01
  - PE-02
  - PE-03
  - PE-04
  MPLS_ENDPOINT_CONNECTIONS:
  - PE-01
  - PE-02
  - PE-03
  - PE-04
  EOS:
  - PE-01
  - PE-02
  - PE-03
  - PE-04
  - P-01
  - P-02
  - CPE-01
  - CPE-02
omit: __omit_place_holder__4a8b78537248b5c3fa555a53c4b44f703f5bf4a5
ansible_version:
  string: 2.11.6
  full: 2.11.6
  major: 2
  minor: 11
  revision: 6
ansible_check_mode: false
ansible_diff_mode: true
ansible_forks: 16
ansible_inventory_sources:
- /home/carlbuchmann/Git_Projects/SP-AVD/avd-mpls-example/inventory.yml
ansible_skip_tags: []
ansible_run_tags:
- build
ansible_verbosity: 0
